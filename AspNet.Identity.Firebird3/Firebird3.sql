             
CREATE DOMAIN CHAR1 AS
CHAR(1) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR10 AS
VARCHAR(10) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR24 AS
VARCHAR(24) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR40 AS
VARCHAR(40) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR36 AS
VARCHAR(36) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR54 AS
VARCHAR(54) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR75 AS
VARCHAR(75) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR100 AS
VARCHAR(100) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR128 AS
VARCHAR(128) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR254 AS
VARCHAR(254) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE DOMAIN VCHAR8000 AS
VARCHAR(8000) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;


CREATE DOMAIN GUID AS
char(16) character set octets;

CREATE DOMAIN int16 AS
smallint;

CREATE DOMAIN int32 AS
integer;

CREATE DOMAIN int64 AS
bigint;

CREATE DOMAIN currency AS
DECIMAL (18, 2);

CREATE DOMAIN datetime AS
TIMESTAMP;

CREATE TABLE roles (
  Id guid NOT NULL,
  Name vchar75 NOT NULL
);
ALTER TABLE ROLES ADD CONSTRAINT PK_ROLES PRIMARY KEY (ID);

CREATE TABLE users (
  Id                   guid NOT NULL,
  Email                vchar254 ,
  EmailConfirmed       int16 NOT NULL,
  PasswordHash         vchar254,
  SecurityStamp        vchar254,
  PhoneNumber          vchar54,
  PhoneNumberConfirmed int16 NOT NULL,
  TwoFactorEnabled     int16 NOT NULL,
  LockoutEndDateUtc    datetime ,
  LockoutEnabled       int16 NOT NULL,
  AccessFailedCount    int16 NOT NULL,
  UserName             vchar75 NOT NULL
);
ALTER TABLE USERS ADD CONSTRAINT PK_USERS PRIMARY KEY (ID);
CREATE INDEX USEREMAILCACI ON USERS COMPUTED BY (email collate fr_ca_ci_ai);
CREATE INDEX USERNAMECACI ON USERS COMPUTED BY (username collate fr_ca_ci_ai);

CREATE TABLE userclaims (
  Id         bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  UserId     guid NOT NULL,
  ClaimType  vchar254,
  ClaimValue vchar254
);

CREATE TABLE userlogins (
  LoginProvider vchar128 NOT NULL,
  ProviderKey   vchar128 NOT NULL,
  UserId        guid NOT NULL
);

CREATE TABLE userroles (
  UserId guid NOT NULL,
  RoleId guid NOT NULL
) ;


CREATE TABLE CartItems (
    ItemId      guid NOT NULL,
    CartId      guid NOT NULL,
    Quantity    INT32 NOT NULL,
    DateCreated datetime   default current_timestamp    NOT NULL,
    ProductId   INT64            NOT NULL
    );

CREATE TABLE Categories (
    CategoryID   INT64  GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CategoryName vchar100 NOT NULL,
    Description  vchar8000
    );

CREATE TABLE OrderDetails (
    OrderDetailId INT64 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    OrderId       INT64 NOT NULL,
    Username      vchar100,
    ProductId     INT64 NOT NULL,
    Quantity      INT32  NOT NULL,
    UnitPrice     currency
    );

CREATE TABLE Orders (
    OrderId              INT64  GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    OrderDate            datetime   default current_timestamp   NOT NULL  ,
    Username             vchar100  ,
    FirstName            vchar100  NOT NULL,
    LastName             vchar100  NOT NULL,
    Address              vchar75   NOT NULL,
    City                 vchar40   NOT NULL,
    State                vchar40   NOT NULL,
    PostalCode           vchar10   NOT NULL,
    Country              vchar40   NOT NULL,
    Phone                vchar24   ,
    Email                vchar75   NOT NULL,
    Total                currency NOT NULL,
    PaymentTransactionId vchar254  ,
    HasBeenShipped       char1 default 'F'  NOT NULL
    );


create table Products (
  ProductID   INT64 GENERATED BY DEFAULT AS IDENTITY Not Null,
  ProductName vchar100 Not Null,
  Description vchar8000 Not Null,
  ImagePath   vchar254,
  UnitPrice   currency,
  CategoryID  INT64
);

CREATE UNIQUE INDEX CARTITEMS_IDX1 ON CARTITEMS (CARTID,PRODUCTID);



INSERT INTO ROLES (ID, NAME)
           VALUES (x'2dee405c40614cc094b4d0a0b398178e', 'canEdit');

INSERT INTO USERS (ID, EMAIL, EMAILCONFIRMED, PASSWORDHASH, SECURITYSTAMP, PHONENUMBER, PHONENUMBERCONFIRMED, TWOFACTORENABLED, LOCKOUTENDDATEUTC, LOCKOUTENABLED, ACCESSFAILEDCOUNT, USERNAME)
           VALUES (x'ece51714b8a64eb49355902e4a63e580', 'nsg@tetrasys.fi', 0, 'AEQJcsoNUZRdQoDYNCijj6JqgV8H0bsXT0kVaiRXWSNofMFN9loQ5zSWALdWCuyB2w==', x'c110aef0a86c428bb0d38196eb3146c1', '358 (0) 400 27 25 18', 1, 0, '0001-01-01 00:00:00', 1, 0, 'nsg@tetrasys.fi');

INSERT INTO USERS (ID, EMAIL, EMAILCONFIRMED, PASSWORDHASH, SECURITYSTAMP, PHONENUMBER, PHONENUMBERCONFIRMED, TWOFACTORENABLED, LOCKOUTENDDATEUTC, LOCKOUTENABLED, ACCESSFAILEDCOUNT, USERNAME)
           VALUES (X'544A0707886A314EB7BF47565AFCD26D', 'canEditUser@NorpaNet.com', 0, 'ANPXzpaC8c6D4JwXpsn+C5ilKy7sbU+286WYqlA84z7KvYfW70PygkNVrrp9Rb4Ncw==', '74515d05-b228-4a48-a902-b25a0db6ef31', NULL, 0, 0, '0001-01-01 00:00:00', 0, 0, 'canEditUser@NorpaNet.com');

		   
INSERT INTO USERROLES (USERID, ROLEID)
               VALUES (x'ece51714b8a64eb49355902e4a63e580', x'2dee405c40614cc094b4d0a0b398178e');
INSERT INTO USERROLES (USERID, ROLEID)
               VALUES (x'544A0707886A314EB7BF47565AFCD26D', x'2dee405c40614cc094b4d0a0b398178e');

INSERT INTO CATEGORIES (CATEGORYID, CATEGORYNAME, DESCRIPTION) VALUES (1, 'Cars', NULL);
INSERT INTO CATEGORIES (CATEGORYID, CATEGORYNAME, DESCRIPTION) VALUES (2, 'Planes', NULL);
INSERT INTO CATEGORIES (CATEGORYID, CATEGORYNAME, DESCRIPTION) VALUES (3, 'Trucks', NULL);
INSERT INTO CATEGORIES (CATEGORYID, CATEGORYNAME, DESCRIPTION) VALUES (4, 'Boats', NULL);
INSERT INTO CATEGORIES (CATEGORYID, CATEGORYNAME, DESCRIPTION) VALUES (5, 'Rockets', NULL);

COMMIT WORK;

alter table CATEGORIES alter CATEGORYID RESTART with 6;


INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (1, 'Convertible Car', 'This convertible car is fast! The engine is powered by a neutrino based battery (not included).Power it up and let it go!', 'carconvert.png', 22.5, 1);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (2, 'Old-time Car', 'There''s nothing old about this toy car, except it''s looks. Compatible with other old toy cars.', 'carearly.png', 15.95, 1);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (3, 'Fast Car', 'Yes this car is fast, but it also floats in water.', 'carfast.png', 32.99, 1);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (4, 'Super Fast Car', 'Use this super fast car to entertain guests. Lights and doors work!', 'carfaster.png', 8.95, 1);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (5, 'Old Style Racer', 'This old style racer can fly (with user assistance). Gravity controls flight duration.No batteries required.', 'carracer.png', 34.95, 1);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (6, 'Ace Plane', 'Authentic airplane toy. Features realistic color and details.', 'planeace.png', 95, 2);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (7, 'Glider', 'This fun glider is made from real balsa wood. Some assembly required.', 'planeglider.png', 4.95, 2);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (8, 'Paper Plane', 'This paper plane is like no other paper plane. Some folding required.', 'planepaper.png', 2.95, 2);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (9, 'Propeller Plane', 'Rubber band powered plane features two wheels.', 'planeprop.png', 32.95, 2);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (10, 'Early Truck', 'This toy truck has a real gas powered engine. Requires regular tune ups.', 'truckearly.png', 15, 3);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (11, 'Fire Truck', 'You will have endless fun with this one quarter sized fire truck.', 'truckfire.png', 26, 3);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (12, 'Big Truck', 'This fun toy truck can be used to tow other trucks that are not as big.', 'truckbig.png', 29, 3);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (13, 'Big Ship', 'Is it a boat or a ship. Let this floating vehicle decide by using its artifically intelligent computer brain!', 'boatbig.png', 95, 4);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (14, 'Paper Boat', 'Floating fun for all! This toy boat can be assembled in seconds. Floats for minutes!Some folding required.', 'boatpaper.png', 4.95, 4);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (15, 'Sail Boat', 'Put this fun toy sail boat in the water and let it go!', 'boatsail.png', 42.95, 4);
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, DESCRIPTION, IMAGEPATH, UNITPRICE, CATEGORYID) VALUES (16, 'Rocket', 'This fun rocket will travel up to a height of 200 feet.', 'rocket.png', 122.95, 5);


COMMIT WORK;		   

alter table products alter productid RESTART with 17;


create index categorynamecaci on categories computed by (categoryname collate fr_ca_ci_ai);
create index productnamecaci on products computed by (productname collate fr_ca_ci_ai);
